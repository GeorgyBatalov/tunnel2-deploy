# ⚠️ TEST/DEV ONLY - These are non-production test tokens for local development
# Real production secrets should NEVER be committed to git
#
# IMPORTANT: Token below is a LOCAL DEV token that only works with local Vault instance.
# It's safe to have in git for dev environment. Production tokens MUST NEVER be committed.
#
# Vault DISABLED - using local config files instead
# Vault__Address=http://vault:8200
# Vault__Token=hvs.YS4SspWfpciHW4KALKUSCKub  # gitleaks:allow - LOCAL DEV TOKEN ONLY
ProxyEntry__EntryId=e1

# TLS certificates for tunnel (1:1 same as TunnelServer)
ProxyEntry__CertificatePath=/app/certs/tunnel_server.crt
ProxyEntry__CertificateKeyPath=/app/certs/tunnel_server.key

# RabbitMQ configuration (1:1 same as TunnelServer)
Rabbit__Host=tunnel2_rabbitmq
Rabbit__Port=5672
Rabbit__UserName=tunnel_app
Rabbit__Password=Ycd5GaUdQZ9mw3LJj5WnTYxA5vXCACQn

# Redis configuration (1:1 same as TunnelServer)
Redis__ConnectionString=tunnel2-redis-1:6379

# JWT configuration (1:1 same as TunnelServer appsettings.json)
JwtValidator__Issuer=tunnel-server
JwtValidator__PublicPemKeyPath=/app/secrets/tunnel_public.pem

# Dev/Test feature flags (MUST be false or omitted in production!)
PROXY_ENTRY_IS_TEST_ENV=true  # Enables path-based routing: /session/{guid}/path

# Kestrel performance tuning for high load (1000+ RPS)
Kestrel__Limits__MaxConcurrentConnections=1000
Kestrel__Limits__MaxConcurrentUpgradedConnections=1000
Kestrel__Limits__KeepAliveTimeout=00:02:00
Kestrel__Limits__RequestHeadersTimeout=00:00:30

# Phase 8 Week 3-4: OpenTelemetry OTLP exporter to Jaeger
OpenTelemetry__Enabled=true
OpenTelemetry__OtlpEndpoint=http://jaeger:4317

# TRACE-level logging for dev environment (detailed routing and session resolution logs)
Logging__LogLevel__Default=Trace
Logging__LogLevel__Microsoft=Information
Logging__LogLevel__Microsoft.EntityFrameworkCore=Warning
Logging__LogLevel__Tunnel2.ProxyEntry.ConsoleApp.Services.TunnelLifecycleReporter=Debug
Logging__LogLevel__Tunnel2.ProxyEntry.ConsoleApp.HostedServices.ProxyEntryHeartbeat=Debug

# Прочие настройки (не секретные) — держим пустыми и перекрываем из Vault
# ProxyEntry__EntryId=e1
# ProxyEntry__ListenPort=12000
# TunnelServer__PublicDomainUri=