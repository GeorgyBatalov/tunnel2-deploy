# ===================================================================
# Tunnel2 Production Environment Variables Template
# ===================================================================
# IMPORTANT: Copy this file to .env and fill in the actual values
# DO NOT commit .env file to git (it's in .gitignore)
# ===================================================================

# ===== Infrastructure Secrets =====

# PostgreSQL (using existing postgres container)
# Database tunnel2 already created with user tunnel2_user (password in tunnel_server.env)

# RabbitMQ (using existing chefbot_rabbitmq container)
# Vhost /tunnel2 already created with user tunnel2_rabbitmq (password in tunnel_server.env)

# Grafana Admin
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Vault Root Token (obtain after Vault initialization)
# Run: docker exec -it tunnel2_vault vault operator init
# Save all unseal keys and root token in a secure location!
VAULT_ROOT_TOKEN=VAULT_ROOT_TOKEN_FROM_INIT

# ===== Network Configuration =====

# Domain for tunnel2 (wildcard DNS: *.tunnel2.xtunnel.ru)
PUBLIC_DOMAIN=tunnel2.xtunnel.ru

# ===== Resource Limits (optional) =====

# OpenSearch heap size (production recommendation: 50% of available RAM, min 1GB, max 32GB)
OPENSEARCH_HEAP_SIZE=1g

# Prometheus retention period (default: 30d)
PROMETHEUS_RETENTION=30d

# ===== PostgreSQL Backup Configuration =====

# PostgreSQL backup user (read-only, for pg_dump)
# Generate password: openssl rand -base64 32
POSTGRES_BACKUP_USER=backup_user
POSTGRES_BACKUP_PASSWORD=CHANGE_ME_SECURE_PASSWORD_HERE

# Backup sync interval (seconds, default: 86400 = 24 hours)
BACKUP_SYNC_INTERVAL=86400

# Backup retention on Yandex.Disk (days, default: 30)
BACKUP_RETENTION_DAYS=30
